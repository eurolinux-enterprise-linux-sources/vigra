<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><TITLE>VIGRA - VIGRA: Argument Object Factories</TITLE>
<link rel=stylesheet type="text/css" href="vigra.css">
</head>
<body  bgcolor="#f8f0e0" link="#0040b0" vlink="#a00040">
<basefont face="Helvetica,Arial,sans-serif" size=3>
<p align=right>
[ <a href="http://kogs-www.informatik.uni-hamburg.de/~koethe/vigra/">VIGRA Homepage</a> |
 <a href="functionindex.html">Function Index</a> |
 <a href="classes.html">Class Index</a> |
 <a href="namespaces.html">Namespaces</a> |
 <a href="files.html">File List</a> |
 <a href="index.html">Main Page</a> ]
</p>
<!-- Generated by Doxygen 1.5.6 -->
<div class="contents">
<table class="main_heading">
<tr>
<td width="100%"><a class="anchor" name="ArgumentObjectFactories">Argument Object Factories </a>
</td>
<td align=right><a href="http://kogs-www.informatik.uni-hamburg.de/~koethe/vigra/"><IMG border=0 ALT="VIGRA" SRC="documents/vigra.gif"></a></td></tr>
</table><p>
Factory functions to create argument objects which simplify long argument lists.<p>
<ul style="list-style-image:url(documents/bullet.gif)">
<li>
<a class="el" href="ArgumentObjectFactories.html#ImageBasedArgumentObjectFactories">Image Based Argument Object Factories</a> </li>
<li>
<a class="el" href="ArgumentObjectFactories.html#MultiArrayBasedArgumentObjectFactories">MultiArrayView Based Argument Object Factories</a> </li>
<li>
<a class="el" href="ArgumentObjectFactories.html#IteratorBasedArgumentObjectFactories">Iterator Based Argument Object Factories</a> </li>
</ul>
<p>
Long argument lists provide for greater flexibility of functions, but they are also tedious and error prone, when we don't need the flexibility. Thus, we define argument objects which automatically provide reasonable defaults for those arguments that we didn't specify explicitly.<p>
The argument objects are created via a number of factory functions. Since these functions have descriptive names, they also serve to improve readability: the name of each factory tells te purpose of its argument object.<p>
Consider the following example. Without argument objects we had to write something like this (cf. <a class="el" href="group__CopyAlgo.html#g0d396cbf319b69f8adaba0cb5945ff18">copyImageIf()</a>):<p>
<div class="fragment"><pre class="fragment">    <a class="code" href="classvigra_1_1BasicImage.html" title="Fundamental class template for images.">vigra::BImage</a> img1, img2, img3;

    <span class="comment">// fill img1 and img2 ...</span>

    <a class="code" href="group__CopyAlgo.html#g0d396cbf319b69f8adaba0cb5945ff18" title="Copy source ROI into destination image.">vigra::copyImageIf</a>(img1.<a class="code" href="classvigra_1_1BasicImage.html#f9eeb6ad11570b4918e6bf2086384bf4">upperLeft</a>(), img1.<a class="code" href="classvigra_1_1BasicImage.html#cc69aa43c87902b25a957867d68a795b">lowerRight</a>(), img1.<a class="code" href="classvigra_1_1BasicImage.html#c1e543db9ce291e86b9023cdb9202b5b">accessor</a>(),
                img2.<a class="code" href="classvigra_1_1BasicImage.html#f9eeb6ad11570b4918e6bf2086384bf4">upperLeft</a>(), img2.<a class="code" href="classvigra_1_1BasicImage.html#c1e543db9ce291e86b9023cdb9202b5b">accessor</a>(),
                img3.<a class="code" href="classvigra_1_1BasicImage.html#f9eeb6ad11570b4918e6bf2086384bf4">upperLeft</a>(), img3.<a class="code" href="classvigra_1_1BasicImage.html#c1e543db9ce291e86b9023cdb9202b5b">accessor</a>());
</pre></div><p>
Using the argument object factories, this becomes much shorter and more readable:<p>
<div class="fragment"><pre class="fragment">    <a class="code" href="group__CopyAlgo.html#g0d396cbf319b69f8adaba0cb5945ff18" title="Copy source ROI into destination image.">vigra::copyImageIf</a>(srcImageRange(img1),
                maskImage(img2),
                destImage(img3));
</pre></div><p>
The names of the factories clearly tell which image is source, mask, and destination. In addition, the suffix <code>Range</code> must be used for those argument objects that need to specify the lower right corner of the region of interest. Typically, this is only the first source argument, but sometimes the first destiniation argument must also contain a range.<p>
The factory functions come in two flavours: Iterator based and image based factories. Above we have seen the image based variant. The iterator based variant would look like this:<p>
<div class="fragment"><pre class="fragment">    <a class="code" href="group__CopyAlgo.html#g0d396cbf319b69f8adaba0cb5945ff18" title="Copy source ROI into destination image.">vigra::copyImageIf</a>(srcIterRange(img1.<a class="code" href="classvigra_1_1BasicImage.html#f9eeb6ad11570b4918e6bf2086384bf4">upperLeft</a>(), img1.<a class="code" href="classvigra_1_1BasicImage.html#cc69aa43c87902b25a957867d68a795b">lowerRight</a>()),
                maskIter(img2.<a class="code" href="classvigra_1_1BasicImage.html#f9eeb6ad11570b4918e6bf2086384bf4">upperLeft</a>()),
                destIter(img3.<a class="code" href="classvigra_1_1BasicImage.html#f9eeb6ad11570b4918e6bf2086384bf4">upperLeft</a>()));
</pre></div><p>
These factory functions contain the word <code>Iter</code> instead of the word <code>Image</code>, They would normally be used if we couldn't access the images (for example, within a function which got passed iterators) or if we didn't want to operate on the entire image. The default accessor is obtained via <a class="el" href="structvigra_1_1IteratorTraits.html">vigra::IteratorTraits</a>.<p>
All factory functions also allow to specify accessors explicitly. This is useful if we can't use the default accessor. This variant looks like this:<p>
<div class="fragment"><pre class="fragment">    <a class="code" href="group__CopyAlgo.html#g0d396cbf319b69f8adaba0cb5945ff18" title="Copy source ROI into destination image.">vigra::copyImageIf</a>(srcImageRange(img1),
                maskImage(img2, MaskPredicateAccessor()),
                destImage(img3));
</pre></div><p>
or<p>
<div class="fragment"><pre class="fragment">    <a class="code" href="group__CopyAlgo.html#g0d396cbf319b69f8adaba0cb5945ff18" title="Copy source ROI into destination image.">vigra::copyImageIf</a>(srcIterRange(img1.<a class="code" href="classvigra_1_1BasicImage.html#f9eeb6ad11570b4918e6bf2086384bf4">upperLeft</a>(), img1.<a class="code" href="classvigra_1_1BasicImage.html#cc69aa43c87902b25a957867d68a795b">lowerRight</a>()),
                maskIter(img2.<a class="code" href="classvigra_1_1BasicImage.html#f9eeb6ad11570b4918e6bf2086384bf4">upperLeft</a>(), MaskPredicateAccessor()),
                destIter(img3.<a class="code" href="classvigra_1_1BasicImage.html#f9eeb6ad11570b4918e6bf2086384bf4">upperLeft</a>()));
</pre></div><p>
All versions can be mixed freely within one explession. Technically, the argument objects are simply defined as pairs and triples of iterators and accessor so that all algorithms should declare a call interface version based on pairs and triples (see for example <a class="el" href="group__CopyAlgo.html#g0d396cbf319b69f8adaba0cb5945ff18">copyImageIf()</a>).<h2><a class="anchor" name="ImageBasedArgumentObjectFactories">
Image Based Argument Object Factories</a></h2>
<b>Include:</b> automatically included with the image classes<br>
 Namespace: <a class="el" href="namespacevigra.html">vigra</a><p>
These factories can be used to create argument objects when we are given instances or subclasses of <a class="el" href="classvigra_1_1BasicImage.html">vigra::BasicImage</a> (see <a class="el" href="group__StandardImageTypes.html">Standard Image Types</a> for instances defined per default). These factory functions access <code>img.upperLeft()</code>, <code>img.lowerRight()</code>, and <code>img.accessor()</code> to obtain the iterators and accessor for the given image (unless the accessor is given explicitly). The following factory functions are provided:<p>
<table border="1" cellspacing="3" cellpadding="3">
<tr>
<th bgcolor="#f0e0c0" colspan="2" align="left>"><code><a class="el" href="classvigra_1_1BasicImage.html">vigra::BasicImage&lt;SomeType&gt;</a> img;</code> or <br>
 <code><a class="el" href="classvigra_1_1BasicImageView.html">vigra::BasicImageView&lt;SomeType&gt;</a> img;</code>   </th></tr>
<tr>
<td><p>
<code>srcImageRange(img)</code> </td><td>create argument object containing upper left, lower right, and default accessor of source image<p>
</td></tr>
<tr>
<td><p>
<code>srcImageRange(img, <a class="el" href="classvigra_1_1Rect2D.html" title="Two dimensional rectangle.">Rect2D</a>(...))</code> </td><td>create argument object containing the ROI specified by <code><a class="el" href="classvigra_1_1Rect2D.html">vigra::Rect2D</a></code> and default accessor of source image<p>
</td></tr>
<tr>
<td><p>
<code>srcImageRange(img, SomeAccessor())</code> </td><td>create argument object containing upper left, lower right of source image, and given accessor<p>
</td></tr>
<tr>
<td><p>
<code>srcImageRange(img, <a class="el" href="classvigra_1_1Rect2D.html" title="Two dimensional rectangle.">Rect2D</a>(...), SomeAccessor())</code> </td><td>create argument object containing the ROI specified by <code><a class="el" href="classvigra_1_1Rect2D.html">vigra::Rect2D</a></code> and of source image, and given accessor<p>
</td></tr>
<tr>
<td><p>
<code>srcImage(img)</code> </td><td>create argument object containing upper left, and default accessor of source image<p>
</td></tr>
<tr>
<td><p>
<code>srcImage(img, <a class="el" href="classvigra_1_1Point2D.html" title="Two dimensional point or position.">Point2D</a>(...))</code> </td><td>create argument object with upper left at point given by <code><a class="el" href="classvigra_1_1Point2D.html">vigra::Point2D</a></code>, and default accessor of source image<p>
</td></tr>
<tr>
<td><p>
<code>srcImage(img, SomeAccessor())</code> </td><td>create argument object containing upper left of source image, and given accessor<p>
</td></tr>
<tr>
<td><p>
<code>srcImage(img, <a class="el" href="classvigra_1_1Point2D.html" title="Two dimensional point or position.">Point2D</a>(...), SomeAccessor())</code> </td><td>create argument object with upper left at point given by <code><a class="el" href="classvigra_1_1Point2D.html">vigra::Point2D</a></code> of source image, and given accessor<p>
</td></tr>
<tr>
<td><p>
<code>maskImage(img)</code> </td><td>create argument object containing upper left, and default accessor of mask image<p>
</td></tr>
<tr>
<td><p>
<code>maskImage(img, <a class="el" href="classvigra_1_1Point2D.html" title="Two dimensional point or position.">Point2D</a>(...))</code> </td><td>create argument object with upper left at point given by <code><a class="el" href="classvigra_1_1Point2D.html">vigra::Point2D</a></code>, and default accessor of mask image<p>
</td></tr>
<tr>
<td><p>
<code>maskImage(img, SomeAccessor())</code> </td><td>create argument object containing upper left of mask image, and given accessor<p>
</td></tr>
<tr>
<td><p>
<code>maskImage(img, <a class="el" href="classvigra_1_1Point2D.html" title="Two dimensional point or position.">Point2D</a>(...), SomeAccessor())</code> </td><td>create argument object with upper left at point given by <code><a class="el" href="classvigra_1_1Point2D.html">vigra::Point2D</a></code> of mask image, and given accessor<p>
</td></tr>
<tr>
<td><p>
<code>destImageRange(img)</code> </td><td>create argument object containing upper left, lower right, and default accessor of destination image<p>
</td></tr>
<tr>
<td><p>
<code>destImageRange(img, <a class="el" href="classvigra_1_1Rect2D.html" title="Two dimensional rectangle.">Rect2D</a>(...))</code> </td><td>create argument object containing the ROI specified by <code><a class="el" href="classvigra_1_1Rect2D.html">vigra::Rect2D</a></code> and default accessor of destination image<p>
</td></tr>
<tr>
<td><p>
<code>destImageRange(img, SomeAccessor())</code> </td><td>create argument object containing upper left, lower right of destination image, and given accessor<p>
</td></tr>
<tr>
<td><p>
<code>destImageRange(img, <a class="el" href="classvigra_1_1Rect2D.html" title="Two dimensional rectangle.">Rect2D</a>(...), SomeAccessor())</code> </td><td>create argument object containing the ROI specified by <code><a class="el" href="classvigra_1_1Rect2D.html">vigra::Rect2D</a></code> of destination image, and given accessor<p>
</td></tr>
<tr>
<td><p>
<code>destImage(img)</code> </td><td>create argument object containing upper left, and default accessor of destination image<p>
</td></tr>
<tr>
<td><p>
<code>destImage(img, <a class="el" href="classvigra_1_1Point2D.html" title="Two dimensional point or position.">Point2D</a>(...))</code> </td><td>create argument object with upper left at point given by <code><a class="el" href="classvigra_1_1Point2D.html">vigra::Point2D</a></code>, and default accessor of destination image<p>
</td></tr>
<tr>
<td><p>
<code>destImage(img, SomeAccessor())</code> </td><td>create argument object containing upper left of destination image, and given accessor<p>
</td></tr>
<tr>
<td><p>
<code>destImage(img, <a class="el" href="classvigra_1_1Point2D.html" title="Two dimensional point or position.">Point2D</a>(...), SomeAccessor())</code> </td><td>create argument object with upper left at point given by <code><a class="el" href="classvigra_1_1Point2D.html">vigra::Point2D</a></code> of destination image, and given accessor<p>
</td></tr>
</table>
<h2><a class="anchor" name="MultiArrayBasedArgumentObjectFactories">
MultiArrayView Based Argument Object Factories</a></h2>
<b>Include:</b> automatically included with &lt;<a href="multi__array_8hxx-source.html">vigra/multi_array.hxx</a>&gt;<br>
 Namespace: <a class="el" href="namespacevigra.html">vigra</a><p>
These factories can be used to create argument objects when we are given instances or subclasses of <a class="el" href="classvigra_1_1MultiArrayView.html">vigra::MultiArrayView</a>. These factory functions access <code>array.traverser_begin()</code>, <code>array.traverser_end()</code> to obtain the iterators. If no accessor is given, they use the <code>AccessorTraits&lt;T&gt;</code> to determine the default accessor associated with the array's value type <code>T</code>. The following factory functions are provided:<p>
<table border="1" cellspacing="3" cellpadding="3">
<tr>
<th bgcolor="#f0e0c0" colspan="2" align="left>"><code><a class="el" href="classvigra_1_1MultiArrayView.html">vigra::MultiArrayView&lt;N, SomeType&gt;</a> array;</code>   </th></tr>
<tr>
<td><p>
<code>srcMultiArrayRange(img)</code> </td><td>create argument object containing a <a class="el" href="classvigra_1_1MultiIterator.html">vigra::MultiIterator</a> marking the begin of the array, a shape object giving the desired shape of the array (possibly a subarray) and the default const accessor for <code>SomeType</code><p>
</td></tr>
<tr>
<td><p>
<code>srcMultiArrayRange(img, SomeAccessor())</code> </td><td>create argument object containing a <a class="el" href="classvigra_1_1MultiIterator.html">vigra::MultiIterator</a> marking the begin of the array, a shape object giving the desired shape of the array (possibly a subarray) and the given accessor<p>
</td></tr>
<tr>
<td><p>
<code>srcMultiArray(img)</code> </td><td>create argument object containing a <a class="el" href="classvigra_1_1MultiIterator.html">vigra::MultiIterator</a> marking the begin of the array, and the default const accessor for <code>SomeType</code><p>
</td></tr>
<tr>
<td><p>
<code>srcMultiArray(img, SomeAccessor())</code> </td><td>create argument object containing a <a class="el" href="classvigra_1_1MultiIterator.html">vigra::MultiIterator</a> marking the begin of the array and the given accessor<p>
</td></tr>
<tr>
<td><p>
<code>destMultiArrayRange(img)</code> </td><td>create argument object containing a <a class="el" href="classvigra_1_1MultiIterator.html">vigra::MultiIterator</a> marking the begin of the array, a shape object giving the desired shape of the array (possibly a subarray) and the default accessor for <code>SomeType</code><p>
</td></tr>
<tr>
<td><p>
<code>destMultiArrayRange(img, SomeAccessor())</code> </td><td>create argument object containing a <a class="el" href="classvigra_1_1MultiIterator.html">vigra::MultiIterator</a>'s marking the begin of the array, a shape object giving the desired shape of the array (possibly a subarray) and the given accessor<p>
</td></tr>
<tr>
<td><p>
<code>destMultiArray(img)</code> </td><td>create argument object containing a <a class="el" href="classvigra_1_1MultiIterator.html">vigra::MultiIterator</a> marking the begin of the array and the default accessor for <code>SomeType</code><p>
</td></tr>
<tr>
<td><p>
<code>destMultiArray(img, SomeAccessor())</code> </td><td>create argument object containing a <a class="el" href="classvigra_1_1MultiIterator.html">vigra::MultiIterator</a>'s marking the begin of the array and the given accessor<p>
</td></tr>
</table>
<h2><a class="anchor" name="IteratorBasedArgumentObjectFactories">
Iterator Based Argument Object Factories</a></h2>
<b>#include</b> &lt;<a href="iteratortraits_8hxx-source.html">vigra/iteratortraits.hxx</a>&gt; Namespace: <a class="el" href="namespacevigra.html">vigra</a><p>
These factories can be used to create argument objects when we are given <a class="el" href="group__ImageIterators.html">Image Iterators</a>. These factory functions use <a class="el" href="structvigra_1_1IteratorTraits.html">vigra::IteratorTraits</a> to get the default accessor for the given iterator unless the accessor is given explicitly. The following factory functions are provided:<p>
<table border="1" cellspacing="3" cellpadding="3">
<tr>
<th bgcolor="#f0e0c0" colspan="2" align="left>"><code><a class="el" href="classvigra_1_1BasicImage.html#f41e23f99db325a93187f3cd64201529">vigra::BasicImage&lt;SomeType&gt;::Iterator</a> i1, i2;</code>   </th></tr>
<tr>
<td><p>
<code>srcIterRange(i1, i2)</code> </td><td>create argument object containing the given iterators and corresponding default accessor (for source image)<p>
</td></tr>
<tr>
<td><p>
<code>srcIterRange(i1, i2, SomeAccessor())</code> </td><td>create argument object containing given iterators and accessor (for source image)<p>
</td></tr>
<tr>
<td><p>
<code>srcIter(i1)</code> </td><td>create argument object containing the given iterator and corresponding default accessor (for source image)<p>
</td></tr>
<tr>
<td><p>
<code>srcIter(i1, SomeAccessor())</code> </td><td>create argument object containing given iterator and accessor (for source image)<p>
</td></tr>
<tr>
<td><p>
<code>maskIter(i1)</code> </td><td>create argument object containing the given iterator and corresponding default accessor (for mask image)<p>
</td></tr>
<tr>
<td><p>
<code>maskIter(i1, SomeAccessor())</code> </td><td>create argument object containing given iterator and accessor (for mask image)<p>
</td></tr>
<tr>
<td><p>
<code>destIterRange(i1, i2)</code> </td><td>create argument object containing the given iterators and corresponding default accessor (for destination image)<p>
</td></tr>
<tr>
<td><p>
<code>destIterRange(i1, i2, SomeAccessor())</code> </td><td>create argument object containing given iterators and accessor (for destination image)<p>
</td></tr>
<tr>
<td><p>
<code>destIter(i1)</code> </td><td>create argument object containing the given iterator and corresponding default accessor (for destination image)<p>
</td></tr>
<tr>
<td><p>
<code>destIter(i1, SomeAccessor())</code> </td><td>create argument object containing given iterator and accessor (for destination image)<p>
</td></tr>
</table>
</div>
<!-- footer.html -->
<p>
<table border=0 cellspacing=0 width="100%"  bgcolor="#e0d0a0" cellpadding=5>
<tr>
<td>
<p>
<i>&copy; <A HREF="http://hci.iwr.uni-heidelberg.de/people/ukoethe/">Ullrich K&ouml;the</A>     (<A
HREF="mailto:ullrich.koethe@iwr.uni-heidelberg.de">ullrich.koethe@iwr.uni-heidelberg.de</A>)</i> <br>
<i><A HREF="http://hci.iwr.uni-heidelberg.de/">
Heidelberg Collaboratory for Image Processing</a>,
University of Heidelberg, Germany</i>
<td>
<p align=right>
<I>html generated using <A HREF="http://www.doxygen.org">doxygen</A> and <A HREF="http://www.python.org">Python</A></I>
<br>
<i>
VIGRA 1.6.0 (13 Aug 2008)
</i>
</tr>
</table>


</BODY>
</HTML>
