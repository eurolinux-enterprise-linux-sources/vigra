<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><TITLE>VIGRA - VIGRA: Connected Components Labeling</TITLE>
<link rel=stylesheet type="text/css" href="vigra.css">
</head>
<body  bgcolor="#f8f0e0" link="#0040b0" vlink="#a00040">
<basefont face="Helvetica,Arial,sans-serif" size=3>
<p align=right>
[ <a href="http://kogs-www.informatik.uni-hamburg.de/~koethe/vigra/">VIGRA Homepage</a> |
 <a href="functionindex.html">Function Index</a> |
 <a href="classes.html">Class Index</a> |
 <a href="namespaces.html">Namespaces</a> |
 <a href="files.html">File List</a> |
 <a href="index.html">Main Page</a> ]
</p>
<!-- Generated by Doxygen 1.5.6 -->
<div class="contents">
<table class="main_heading">
<tr>
<td align=left>
<A HREF ="#_details" ><IMG BORDER=0 ALT="details" SRC="documents/pfeilGross.gif"></A>
</td>
<td width="100%">Connected Components Labeling
</td>
<td align=right><a href="http://kogs-www.informatik.uni-hamburg.de/~koethe/vigra/"><IMG border=0 ALT="VIGRA" SRC="documents/vigra.gif"></a></td></tr>
</table><p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;... &gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Labeling.html#g28c7e612b6e8f2dfd1a544ba14987029">labelImage</a> (...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find the connected components of a segmented image.  <a href="#g28c7e612b6e8f2dfd1a544ba14987029"></a><br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;... &gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Labeling.html#g4e60cb9394ef08fb588a068c3790b3bd">labelImageWithBackground</a> (...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find the connected components of a segmented image, excluding the background from labeling.  <a href="#g4e60cb9394ef08fb588a068c3790b3bd"></a><br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;... &gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Labeling.html#g84696c6009abe81315e52585a0b5cc2b">labelVolume</a> (...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find the connected components of a segmented volume.  <a href="#g84696c6009abe81315e52585a0b5cc2b"></a><br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;class SrcIterator, class SrcAccessor, class SrcShape, class DestIterator, class DestAccessor&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Labeling.html#gc3f52a7a84edea8c054155675f9345a3">labelVolumeSix</a> (triple&lt; SrcIterator, SrcShape, SrcAccessor &gt; src, pair&lt; DestIterator, DestAccessor &gt; dest)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find the connected components of a segmented volume using the 6-neighborhood.  <a href="#gc3f52a7a84edea8c054155675f9345a3"></a><br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;... &gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Labeling.html#g2e8fdf4d58f1255e5cc49feaec8d5acf">labelVolumeWithBackground</a> (...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find the connected components of a segmented volume, excluding the background from labeling.  <a href="#g2e8fdf4d58f1255e5cc49feaec8d5acf"></a><br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;... &gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Labeling.html#g28be01b8886f978964168985c1d3df74">regionImageToCrackEdgeImage</a> (...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Transform a labeled image into a crack edge image.  <a href="#g28be01b8886f978964168985c1d3df74"></a><br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;... &gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__Labeling.html#gae92b7ba1a66dca507dcf95b82b289e3">regionImageToEdgeImage</a> (...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Transform a labeled image into an edge image.  <a href="#gae92b7ba1a66dca507dcf95b82b289e3"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2 class="details_section">Detailed Description</h2>
The 2-dimensional connected components algorithms may use either 4 or 8 connectivity. By means of a functor the merge criterium can be defined arbitrarily.<p>
The 3-dimensional connected components algorithms may use either 6 or 26 connectivity. By means of a functor the merge criterium can be defined arbitrarily. <hr><h2>Function Documentation</h2>
<a class="anchor" name="g28c7e612b6e8f2dfd1a544ba14987029"></a><!-- doxytag: member="vigra::labelImage" ref="g28c7e612b6e8f2dfd1a544ba14987029" args="(...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td colspan="4" class="memtemplate">template&lt;... &gt; </td></tr><tr>
          <td class="memname">unsigned int vigra::labelImage           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Find the connected components of a segmented image. 
<p>
<b> Declarations:</b><p>
pass arguments explicitly: <div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,
                  <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor&gt;
        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__Labeling.html#g28c7e612b6e8f2dfd1a544ba14987029" title="Find the connected components of a segmented image.">labelImage</a>(SrcIterator upperlefts,
                                SrcIterator lowerrights, SrcAccessor sa,
                                DestIterator upperleftd, DestAccessor da,
                                <span class="keywordtype">bool</span> eight_neighbors);

        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,
                  <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,
                  <span class="keyword">class </span>EqualityFunctor&gt;
        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__Labeling.html#g28c7e612b6e8f2dfd1a544ba14987029" title="Find the connected components of a segmented image.">labelImage</a>(SrcIterator upperlefts,
                                SrcIterator lowerrights, SrcAccessor sa,
                                DestIterator upperleftd, DestAccessor da,
                                <span class="keywordtype">bool</span> eight_neighbors, EqualityFunctor equal);
    }
</pre></div><p>
use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : <div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,
                  <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor&gt;
        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__Labeling.html#g28c7e612b6e8f2dfd1a544ba14987029" title="Find the connected components of a segmented image.">labelImage</a>(triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,
                                pair&lt;DestIterator, DestAccessor&gt; dest,
                                <span class="keywordtype">bool</span> eight_neighbors);

        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,
                  <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,
                  <span class="keyword">class </span>EqualityFunctor&gt;
        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__Labeling.html#g28c7e612b6e8f2dfd1a544ba14987029" title="Find the connected components of a segmented image.">labelImage</a>(triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,
                                pair&lt;DestIterator, DestAccessor&gt; dest,
                                <span class="keywordtype">bool</span> eight_neighbors, EqualityFunctor equal)
    }
</pre></div><p>
Connected components are defined as regions with uniform pixel values. Thus, <code>SrcAccessor::value_type</code> either must be equality comparable (first form), or an EqualityFunctor must be provided that realizes the desired predicate (second form). The destination's value type should be large enough to hold the labels without overflow. Region numbers will be a consecutive sequence starting with one and ending with the region number returned by the function (inclusive). The parameter '<code>eight_neighbors</code>' determines whether the regions should be 4-connected or 8-connected. The function uses accessors.<p>
Return: the number of regions found (= largest region label)<p>
<b> Usage:</b><p>
<b>#include</b> &lt;<a href="labelimage_8hxx-source.html">vigra/labelimage.hxx</a>&gt;<br>
 Namespace: <a class="el" href="namespacevigra.html">vigra</a><p>
<div class="fragment"><pre class="fragment">    <a class="code" href="classvigra_1_1BasicImage.html" title="Fundamental class template for images.">vigra::BImage</a> src(w,h);
    <a class="code" href="classvigra_1_1BasicImage.html" title="Fundamental class template for images.">vigra::IImage</a> labels(w,h);

    <span class="comment">// threshold at 128</span>
    <a class="code" href="group__TransformAlgo.html#ge8b0baa0dd68bf6af88faf6b9ac7925c" title="Apply unary point transformation to each pixel.">vigra::transformImage</a>(srcImageRange(src), destImage(src),
       <a class="code" href="classvigra_1_1Threshold.html" title="Threshold an image.">vigra::Threshold&lt;vigra::BImage::PixelType, vigra::BImage::PixelType&gt;</a>(
                                                    128, 256, 0, 255));

    <span class="comment">// find 4-connected regions</span>
    <a class="code" href="group__Labeling.html#g28c7e612b6e8f2dfd1a544ba14987029" title="Find the connected components of a segmented image.">vigra::labelImage</a>(srcImageRange(src), destImage(labels), <span class="keyword">false</span>);
</pre></div><p>
<b> Required Interface:</b><p>
<div class="fragment"><pre class="fragment">    SrcImageIterator src_upperleft, src_lowerright;
    DestImageIterator dest_upperleft;

    SrcAccessor src_accessor;
    DestAccessor dest_accessor;

    SrcAccessor::value_type u = src_accessor(src_upperleft);

    u == u                  <span class="comment">// first form</span>

    EqualityFunctor equal;      <span class="comment">// second form</span>
    equal(u, u)                 <span class="comment">// second form</span>

    int i;
    dest_accessor.set(i, dest_upperleft);
</pre></div> 
</div>
</div><p>
<a class="anchor" name="g4e60cb9394ef08fb588a068c3790b3bd"></a><!-- doxytag: member="vigra::labelImageWithBackground" ref="g4e60cb9394ef08fb588a068c3790b3bd" args="(...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td colspan="4" class="memtemplate">template&lt;... &gt; </td></tr><tr>
          <td class="memname">unsigned int vigra::labelImageWithBackground           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Find the connected components of a segmented image, excluding the background from labeling. 
<p>
<b> Declarations:</b><p>
pass arguments explicitly: <div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,
                  <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,
                  <span class="keyword">class </span>ValueType&gt;
        <span class="keywordtype">int</span> <a class="code" href="group__Labeling.html#g4e60cb9394ef08fb588a068c3790b3bd" title="Find the connected components of a segmented image, excluding the background from...">labelImageWithBackground</a>(SrcIterator upperlefts,
                       SrcIterator lowerrights, SrcAccessor sa,
                       DestIterator upperleftd, DestAccessor da,
                       <span class="keywordtype">bool</span> eight_neighbors,
                       ValueType background_value );

        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,
                  <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,
                  <span class="keyword">class </span>ValueType, <span class="keyword">class </span>EqualityFunctor&gt;
        <span class="keywordtype">int</span> <a class="code" href="group__Labeling.html#g4e60cb9394ef08fb588a068c3790b3bd" title="Find the connected components of a segmented image, excluding the background from...">labelImageWithBackground</a>(SrcIterator upperlefts,
                       SrcIterator lowerrights, SrcAccessor sa,
                       DestIterator upperleftd, DestAccessor da,
                       <span class="keywordtype">bool</span> eight_neighbors,
                       ValueType background_value, EqualityFunctor equal);
    }
</pre></div><p>
use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : <div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,
                  <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,
                  <span class="keyword">class </span>ValueType&gt;
        <span class="keywordtype">int</span> <a class="code" href="group__Labeling.html#g4e60cb9394ef08fb588a068c3790b3bd" title="Find the connected components of a segmented image, excluding the background from...">labelImageWithBackground</a>(triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,
                                     pair&lt;DestIterator, DestAccessor&gt; dest,
                                     <span class="keywordtype">bool</span> eight_neighbors,
                                     ValueType background_value);

        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,
                  <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,
                  <span class="keyword">class </span>ValueType, <span class="keyword">class </span>EqualityFunctor&gt;
        <span class="keywordtype">int</span> <a class="code" href="group__Labeling.html#g4e60cb9394ef08fb588a068c3790b3bd" title="Find the connected components of a segmented image, excluding the background from...">labelImageWithBackground</a>(triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,
                                     pair&lt;DestIterator, DestAccessor&gt; dest,
                                     <span class="keywordtype">bool</span> eight_neighbors,
                                     ValueType background_value, EqualityFunctor equal);
    }
</pre></div><p>
Connected components are defined as regions with uniform pixel values. Thus, <code>SrcAccessor::value_type</code> either must be equality comparable (first form), or an EqualityFunctor must be provided that realizes the desired predicate (second form). All pixel equal to the given '<code>background_value</code>' are ignored when determining connected components and remain untouched in the destination image and<p>
The destination's value type should be large enough to hold the labels without overflow. Region numbers will be a consecutive sequence starting with one and ending with the region number returned by the function (inclusive). The parameter '<code>eight_neighbors</code>' determines whether the regions should be 4-connected or 8-connected. The function uses accessors.<p>
Return: the number of regions found (= largest region label)<p>
<b> Usage:</b><p>
<b>#include</b> &lt;<a href="labelimage_8hxx-source.html">vigra/labelimage.hxx</a>&gt;<br>
 Namespace: <a class="el" href="namespacevigra.html">vigra</a><p>
<div class="fragment"><pre class="fragment">    <a class="code" href="classvigra_1_1BasicImage.html" title="Fundamental class template for images.">vigra::BImage</a> src(w,h);
    <a class="code" href="classvigra_1_1BasicImage.html" title="Fundamental class template for images.">vigra::IImage</a> labels(w,h);

    <span class="comment">// threshold at 128</span>
    <a class="code" href="group__TransformAlgo.html#ge8b0baa0dd68bf6af88faf6b9ac7925c" title="Apply unary point transformation to each pixel.">vigra::transformImage</a>(srcImageRange(src), destImage(src),
        <a class="code" href="classvigra_1_1Threshold.html" title="Threshold an image.">vigra::Threshold&lt;vigra::BImage::PixelType, vigra::BImage::PixelType&gt;</a>(
                                                    128, 256, 0, 255));

    <span class="comment">// find 4-connected regions of foreground (= white pixels) only</span>
    <a class="code" href="group__Labeling.html#g4e60cb9394ef08fb588a068c3790b3bd" title="Find the connected components of a segmented image, excluding the background from...">vigra::labelImageWithBackground</a>(srcImageRange(src), destImage(labels),
                             <span class="keyword">false</span>, 0);
</pre></div><p>
<b> Required Interface:</b><p>
<div class="fragment"><pre class="fragment">    SrcImageIterator src_upperleft, src_lowerright;
    DestImageIterator dest_upperleft;

    SrcAccessor src_accessor;
    DestAccessor dest_accessor;

    SrcAccessor::value_type u = src_accessor(src_upperleft);
    ValueType background_value;

    u == u                  <span class="comment">// first form</span>
    u == background_value   <span class="comment">// first form</span>

    EqualityFunctor equal;      <span class="comment">// second form</span>
    equal(u, u)                 <span class="comment">// second form</span>
    equal(u, background_value)  <span class="comment">// second form</span>

    <span class="keywordtype">int</span> i;
    dest_accessor.set(i, dest_upperleft);
</pre></div> 
</div>
</div><p>
<a class="anchor" name="g28be01b8886f978964168985c1d3df74"></a><!-- doxytag: member="vigra::regionImageToCrackEdgeImage" ref="g28be01b8886f978964168985c1d3df74" args="(...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td colspan="4" class="memtemplate">template&lt;... &gt; </td></tr><tr>
          <td class="memname">void vigra::regionImageToCrackEdgeImage           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Transform a labeled image into a crack edge image. 
<p>
<b> Declarations:</b><p>
pass arguments explicitly: <div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,
                  <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor, <span class="keyword">class </span>DestValue&gt;
        <span class="keywordtype">void</span> <a class="code" href="group__Labeling.html#g28be01b8886f978964168985c1d3df74" title="Transform a labeled image into a crack edge image.">regionImageToCrackEdgeImage</a>(
                       SrcIterator sul, SrcIterator slr, SrcAccessor sa,
                       DestIterator dul, DestAccessor da,
                       DestValue edge_marker)
    }
</pre></div><p>
use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : <div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,
                  <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor, <span class="keyword">class </span>DestValue&gt;
        <span class="keywordtype">void</span> <a class="code" href="group__Labeling.html#g28be01b8886f978964168985c1d3df74" title="Transform a labeled image into a crack edge image.">regionImageToCrackEdgeImage</a>(
                   triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,
                   pair&lt;DestIterator, DestAccessor&gt; dest,
                   DestValue edge_marker)
    }
</pre></div><p>
This algorithm inserts border pixels (so called "crack edges") between regions in a labeled image like this (<code>a</code> and <code>c</code> are the original labels, and <code>0</code> is the value of <code>edge_marker</code> and denotes the inserted edges):<p>
<div class="fragment"><pre class="fragment">       original image     insert zero- and one-cells

                                         a 0 c c c
          a c c                          a 0 0 0 c
          a a c               =&gt;         a a a 0 c
          a a a                          a a a 0 0
                                         a a a a a
</pre></div><p>
The algorithm assumes that the original labeled image contains no background. Therefore, it is suitable as a post-processing operation of <a class="el" href="group__Labeling.html#g28c7e612b6e8f2dfd1a544ba14987029">labelImage()</a> or <a class="el" href="group__SeededRegionGrowing.html#gd236be19d1ef7ff0ee2af08182f76dc0">seededRegionGrowing()</a>.<p>
The destination image must be twice the size of the original (precisely, <code>(2*w-1)</code> by <code>(2*h-1)</code> pixels). The source value type (<code>SrcAccessor::value-type</code>) must be equality-comparable.<p>
<b> Usage:</b><p>
<b>#include</b> &lt;<a href="labelimage_8hxx-source.html">vigra/labelimage.hxx</a>&gt;<br>
 Namespace: <a class="el" href="namespacevigra.html">vigra</a><p>
<div class="fragment"><pre class="fragment">    <a class="code" href="classvigra_1_1BasicImage.html" title="Fundamental class template for images.">vigra::BImage</a> src(w,h);
    <a class="code" href="classvigra_1_1BasicImage.html" title="Fundamental class template for images.">vigra::IImage</a> labels(w,h);
    <a class="code" href="classvigra_1_1BasicImage.html" title="Fundamental class template for images.">vigra::IImage</a> cellgrid(2*w-1, 2*h-1);

    <span class="comment">// threshold at 128</span>
    <a class="code" href="group__TransformAlgo.html#ge8b0baa0dd68bf6af88faf6b9ac7925c" title="Apply unary point transformation to each pixel.">vigra::transformImage</a>(srcImageRange(src), destImage(src),
       <a class="code" href="classvigra_1_1Threshold.html" title="Threshold an image.">vigra::Threshold&lt;vigra::BImage::PixelType, vigra::BImage::PixelType&gt;</a>(
                                                    128, 256, 0, 255));

    <span class="comment">// find 4-connected regions</span>
    <a class="code" href="group__Labeling.html#g28c7e612b6e8f2dfd1a544ba14987029" title="Find the connected components of a segmented image.">vigra::labelImage</a>(srcImageRange(src), destImage(labels), <span class="keyword">false</span>);

    <span class="comment">// create cell grid image, mark edges with 0</span>
    <a class="code" href="group__Labeling.html#g28be01b8886f978964168985c1d3df74" title="Transform a labeled image into a crack edge image.">vigra::regionImageToCrackEdgeImage</a>(srcImageRange(labels), destImage(cellgrid), 0);
</pre></div><p>
<b> Required Interface:</b><p>
<div class="fragment"><pre class="fragment">    ImageIterator src_upperleft, src_lowerright;
    ImageIterator dest_upperleft;

    SrcAccessor src_accessor;
    DestAccessor dest_accessor;

    SrcAccessor::value_type u = src_accessor(src_upperleft);

    u != u

    DestValue edge_marker;
    dest_accessor.set(edge_marker, dest_upperleft);
</pre></div><p>
<b> Preconditions:</b><p>
The destination image must have twice the size of the source: <div class="fragment"><pre class="fragment">    w_dest = 2 * w_src - 1
    h_dest = 2 * h_src - 1
</pre></div> 
</div>
</div><p>
<a class="anchor" name="gae92b7ba1a66dca507dcf95b82b289e3"></a><!-- doxytag: member="vigra::regionImageToEdgeImage" ref="gae92b7ba1a66dca507dcf95b82b289e3" args="(...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td colspan="4" class="memtemplate">template&lt;... &gt; </td></tr><tr>
          <td class="memname">void vigra::regionImageToEdgeImage           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Transform a labeled image into an edge image. 
<p>
<b> Declarations:</b><p>
pass arguments explicitly: <div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,
                  <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor, <span class="keyword">class </span>DestValue&gt;
        <span class="keywordtype">void</span> <a class="code" href="group__Labeling.html#gae92b7ba1a66dca507dcf95b82b289e3" title="Transform a labeled image into an edge image.">regionImageToEdgeImage</a>(
                       SrcIterator sul, SrcIterator slr, SrcAccessor sa,
                       DestIterator dul, DestAccessor da,
                       DestValue edge_marker)
    }
</pre></div><p>
use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : <div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {
        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,
                  <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor, <span class="keyword">class </span>DestValue&gt;
        <span class="keywordtype">void</span> <a class="code" href="group__Labeling.html#gae92b7ba1a66dca507dcf95b82b289e3" title="Transform a labeled image into an edge image.">regionImageToEdgeImage</a>(
                   triple&lt;SrcIterator, SrcIterator, SrcAccessor&gt; src,
                   pair&lt;DestIterator, DestAccessor&gt; dest,
                   DestValue edge_marker)
    }
</pre></div><p>
This algorithm marks all pixels with the given <code>edge_marker</code> which belong to a different region (label) than their right or lower neighbors:<p>
<div class="fragment"><pre class="fragment">       original image                     edges
                                 (assuming edge_marker == 1)

          a c c                            1 1 *
          a a c               =&gt;           * 1 1
          a a a                            * * *
</pre></div><p>
The non-edge pixels of the destination image will not be touched. The source value type (<code>SrcAccessor::value-type</code>) must be equality-comparable.<p>
<b> Usage:</b><p>
<b>#include</b> &lt;<a href="labelimage_8hxx-source.html">vigra/labelimage.hxx</a>&gt;<br>
 Namespace: <a class="el" href="namespacevigra.html">vigra</a><p>
<div class="fragment"><pre class="fragment">    <a class="code" href="classvigra_1_1BasicImage.html" title="Fundamental class template for images.">vigra::BImage</a> src(w,h);
    <a class="code" href="classvigra_1_1BasicImage.html" title="Fundamental class template for images.">vigra::IImage</a> labels(w,h);
    <a class="code" href="classvigra_1_1BasicImage.html" title="Fundamental class template for images.">vigra::IImage</a> edges(w, h);
    edges = 255;  <span class="comment">// init background (non-edge) to 255</span>

    <span class="comment">// threshold at 128</span>
    <a class="code" href="group__TransformAlgo.html#ge8b0baa0dd68bf6af88faf6b9ac7925c" title="Apply unary point transformation to each pixel.">vigra::transformImage</a>(srcImageRange(src), destImage(src),
      <a class="code" href="classvigra_1_1Threshold.html" title="Threshold an image.">vigra::Threshold&lt;vigra::BImage::PixelType, vigra::BImage::PixelType&gt;</a>(
                                                    128, 256, 0, 255));

    <span class="comment">// find 4-connected regions</span>
    <a class="code" href="group__Labeling.html#g28c7e612b6e8f2dfd1a544ba14987029" title="Find the connected components of a segmented image.">vigra::labelImage</a>(srcImageRange(src), destImage(labels), <span class="keyword">false</span>);

    <span class="comment">// create edge image, mark edges with 0</span>
    <a class="code" href="group__Labeling.html#gae92b7ba1a66dca507dcf95b82b289e3" title="Transform a labeled image into an edge image.">vigra::regionImageToEdgeImage</a>(srcImageRange(labels), destImage(edges), 0);
</pre></div><p>
<b> Required Interface:</b><p>
<div class="fragment"><pre class="fragment">    ImageIterator src_upperleft, src_lowerright;
    ImageIterator dest_upperleft;

    SrcAccessor src_accessor;
    DestAccessor dest_accessor;

    SrcAccessor::value_type u = src_accessor(src_upperleft);

    u != u

    DestValue edge_marker;
    dest_accessor.set(edge_marker, dest_upperleft);
</pre></div> 
</div>
</div><p>
<a class="anchor" name="g84696c6009abe81315e52585a0b5cc2b"></a><!-- doxytag: member="vigra::labelVolume" ref="g84696c6009abe81315e52585a0b5cc2b" args="(...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td colspan="4" class="memtemplate">template&lt;... &gt; </td></tr><tr>
          <td class="memname">unsigned int vigra::labelVolume           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Find the connected components of a segmented volume. 
<p>
<b> Declarations:</b><p>
pass arguments explicitly: <div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {

        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,<span class="keyword">class </span>SrcShape,
                  <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,
                  <span class="keyword">class </span>Neighborhood3D&gt;
        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__Labeling.html#g84696c6009abe81315e52585a0b5cc2b" title="Find the connected components of a segmented volume.">labelVolume</a>(SrcIterator s_Iter, SrcShape srcShape, SrcAccessor sa,
                                 DestIterator d_Iter, DestAccessor da,
                                 Neighborhood3D neighborhood3D);

        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,<span class="keyword">class </span>SrcShape,
                          <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,
                          <span class="keyword">class </span>Neighborhood3D, <span class="keyword">class </span>EqualityFunctor&gt;
        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__Labeling.html#g84696c6009abe81315e52585a0b5cc2b" title="Find the connected components of a segmented volume.">labelVolume</a>(SrcIterator s_Iter, SrcShape srcShape, SrcAccessor sa,
                                 DestIterator d_Iter, DestAccessor da,
                                 Neighborhood3D neighborhood3D, EqualityFunctor equal);

    }
</pre></div><p>
use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : <div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {

        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,<span class="keyword">class </span>SrcShape,
                  <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,
                  <span class="keyword">class </span>Neighborhood3D&gt;
        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__Labeling.html#g84696c6009abe81315e52585a0b5cc2b" title="Find the connected components of a segmented volume.">labelVolume</a>(triple&lt;SrcIterator, SrcShape, SrcAccessor&gt; src,
                                 pair&lt;DestIterator, DestAccessor&gt; dest,
                                 Neighborhood3D neighborhood3D);

        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,<span class="keyword">class </span>SrcShape,
                 <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,
                 <span class="keyword">class </span>Neighborhood3D, <span class="keyword">class </span>EqualityFunctor&gt;
        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__Labeling.html#g84696c6009abe81315e52585a0b5cc2b" title="Find the connected components of a segmented volume.">labelVolume</a>(triple&lt;SrcIterator, SrcShape, SrcAccessor&gt; src,
                                 pair&lt;DestIterator, DestAccessor&gt; dest,
                                 Neighborhood3D neighborhood3D, EqualityFunctor equal);

    }
</pre></div><p>
use with 3D-Six-Neighborhood: <div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {    
    
        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,<span class="keyword">class </span>SrcShape,
                  <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor&gt;
        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__Labeling.html#gc3f52a7a84edea8c054155675f9345a3" title="Find the connected components of a segmented volume using the 6-neighborhood.">labelVolumeSix</a>(triple&lt;SrcIterator, SrcShape, SrcAccessor&gt; src,
                                    pair&lt;DestIterator, DestAccessor&gt; dest);
                                    
    }
</pre></div><p>
Connected components are defined as regions with uniform voxel values. Thus, <code>SrcAccessor::value_type</code> either must be equality comparable (first form), or an EqualityFunctor must be provided that realizes the desired predicate (second form). The destination's value type should be large enough to hold the labels without overflow. Region numbers will be a consecutive sequence starting with one and ending with the region number returned by the function (inclusive).<p>
Return: the number of regions found (= largest region label)<p>
<b> Usage:</b><p>
<b>#include</b> &lt;<a href="labelvolume_8hxx-source.html">vigra/labelvolume.hxx</a>&gt;<br>
 Namespace: <a class="el" href="namespacevigra.html">vigra</a><p>
<div class="fragment"><pre class="fragment">    <span class="keyword">typedef</span> <a class="code" href="classvigra_1_1MultiArray.html" title="Main MultiArray class containing the memory management.">vigra::MultiArray&lt;3,int&gt;</a> IntVolume;
    IntVolume src(IntVolume::difference_type(w,h,d));
    IntVolume dest(IntVolume::difference_type(w,h,d));
    
    <span class="comment">// find 6-connected regions</span>
    <span class="keywordtype">int</span> max_region_label = <a class="code" href="group__Labeling.html#gc3f52a7a84edea8c054155675f9345a3" title="Find the connected components of a segmented volume using the 6-neighborhood.">vigra::labelVolumeSix</a>(srcMultiArrayRange(src), destMultiArray(dest));

    <span class="comment">// find 26-connected regions</span>
    <span class="keywordtype">int</span> max_region_label = <a class="code" href="group__Labeling.html#g84696c6009abe81315e52585a0b5cc2b" title="Find the connected components of a segmented volume.">vigra::labelVolume</a>(srcMultiArrayRange(src), destMultiArray(dest), <a class="code" href="group__VoxelNeighborhood.html#g89b6c2a18b23d145b3bc2fe983803f08">NeighborCode3DTwentySix</a>());
</pre></div><p>
<b> Required Interface:</b><p>
<div class="fragment"><pre class="fragment">    SrcIterator src_begin;
    SrcShape shape;
    DestIterator dest_begin;

    SrcAccessor src_accessor;
    DestAccessor dest_accessor;

    SrcAccessor::value_type u = src_accessor(src_begin);

    u == u                      <span class="comment">// first form</span>

    EqualityFunctor equal;      <span class="comment">// second form</span>
    equal(u, u)                 <span class="comment">// second form</span>

    int i;
    dest_accessor.set(i, dest_begin);
</pre></div> 
</div>
</div><p>
<a class="anchor" name="gc3f52a7a84edea8c054155675f9345a3"></a><!-- doxytag: member="vigra::labelVolumeSix" ref="gc3f52a7a84edea8c054155675f9345a3" args="(triple&lt; SrcIterator, SrcShape, SrcAccessor &gt; src, pair&lt; DestIterator, DestAccessor &gt; dest)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td colspan="4" class="memtemplate">template&lt;class SrcIterator, class SrcAccessor, class SrcShape, class DestIterator, class DestAccessor&gt; </td></tr><tr>
          <td class="memname">unsigned int vigra::labelVolumeSix           </td>
          <td>(</td>
          <td class="paramtype">triple&lt; SrcIterator, SrcShape, SrcAccessor &gt;&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pair&lt; DestIterator, DestAccessor &gt;&nbsp;</td>
          <td class="paramname"> <em>dest</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Find the connected components of a segmented volume using the 6-neighborhood. 
<p>
See <a class="el" href="group__Labeling.html#g84696c6009abe81315e52585a0b5cc2b">labelVolume()</a> for detailed documentation. 
</div>
</div><p>
<a class="anchor" name="g2e8fdf4d58f1255e5cc49feaec8d5acf"></a><!-- doxytag: member="vigra::labelVolumeWithBackground" ref="g2e8fdf4d58f1255e5cc49feaec8d5acf" args="(...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td colspan="4" class="memtemplate">template&lt;... &gt; </td></tr><tr>
          <td class="memname">unsigned int vigra::labelVolumeWithBackground           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Find the connected components of a segmented volume, excluding the background from labeling. 
<p>
<b> Declarations:</b><p>
pass arguments explicitly: <div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {

        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,<span class="keyword">class </span>SrcShape,
                          <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,
                          <span class="keyword">class </span>Neighborhood3D, <span class="keyword">class </span>ValueType&gt;
        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__Labeling.html#g2e8fdf4d58f1255e5cc49feaec8d5acf" title="Find the connected components of a segmented volume, excluding the background from...">labelVolumeWithBackground</a>(    SrcIterator s_Iter, SrcShape srcShape, SrcAccessor sa,
                                                          DestIterator d_Iter, DestAccessor da,
                                                          Neighborhood3D neighborhood3D, ValueType background_value);

        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,<span class="keyword">class </span>SrcShape,
                          <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,
                          <span class="keyword">class </span>Neighborhood3D, <span class="keyword">class </span>ValueType, <span class="keyword">class </span>EqualityFunctor&gt;
        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__Labeling.html#g2e8fdf4d58f1255e5cc49feaec8d5acf" title="Find the connected components of a segmented volume, excluding the background from...">labelVolumeWithBackground</a>(    SrcIterator s_Iter, SrcShape srcShape, SrcAccessor sa,
                                                            DestIterator d_Iter, DestAccessor da,
                                                          Neighborhood3D neighborhood3D, ValueType background_value,
                                                            EqualityFunctor equal);

    }
</pre></div><p>
use argument objects in conjunction with <a class="el" href="ArgumentObjectFactories.html">Argument Object Factories</a> : <div class="fragment"><pre class="fragment">    <span class="keyword">namespace </span>vigra {

        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,<span class="keyword">class </span>SrcShape,
                          <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,
                          <span class="keyword">class </span>Neighborhood3D, <span class="keyword">class </span>ValueType&gt;
        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__Labeling.html#g2e8fdf4d58f1255e5cc49feaec8d5acf" title="Find the connected components of a segmented volume, excluding the background from...">labelVolumeWithBackground</a>(    triple&lt;SrcIterator, SrcShape, SrcAccessor&gt; src,
                                                          pair&lt;DestIterator, DestAccessor&gt; dest,
                                                          Neighborhood3D neighborhood3D, ValueType background_value);

        <span class="keyword">template</span> &lt;<span class="keyword">class </span>SrcIterator, <span class="keyword">class </span>SrcAccessor,<span class="keyword">class </span>SrcShape,
                          <span class="keyword">class </span>DestIterator, <span class="keyword">class </span>DestAccessor,
                          <span class="keyword">class </span>Neighborhood3D, <span class="keyword">class </span>ValueType, <span class="keyword">class </span>EqualityFunctor&gt;
        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="group__Labeling.html#g2e8fdf4d58f1255e5cc49feaec8d5acf" title="Find the connected components of a segmented volume, excluding the background from...">labelVolumeWithBackground</a>(    triple&lt;SrcIterator, SrcShape, SrcAccessor&gt; src,
                                                        pair&lt;DestIterator, DestAccessor&gt; dest,
                                                        Neighborhood3D neighborhood3D, ValueType background_value,
                                                        EqualityFunctor equal);

    }
</pre></div><p>
Connected components are defined as regions with uniform voxel values. Thus, <code>SrcAccessor::value_type</code> either must be equality comparable (first form), or an EqualityFunctor must be provided that realizes the desired predicate (second form). All voxel equal to the given '<code>background_value</code>' are ignored when determining connected components and remain untouched in the destination volume.<p>
The destination's value type should be large enough to hold the labels without overflow. Region numbers will be a consecutive sequence starting with one and ending with the region number returned by the function (inclusive).<p>
Return: the number of regions found (= largest region label)<p>
<b> Usage:</b><p>
<b>#include</b> &lt;<a href="labelvolume_8hxx-source.html">vigra/labelvolume.hxx</a>&gt;<br>
 Namespace: <a class="el" href="namespacevigra.html">vigra</a><p>
<div class="fragment"><pre class="fragment">    <span class="keyword">typedef</span> <a class="code" href="classvigra_1_1MultiArray.html" title="Main MultiArray class containing the memory management.">vigra::MultiArray&lt;3,int&gt;</a> IntVolume;
    IntVolume src(IntVolume::difference_type(w,h,d));
    IntVolume dest(IntVolume::difference_type(w,h,d));

    <span class="comment">// find 6-connected regions</span>
    <span class="keywordtype">int</span> max_region_label = <a class="code" href="group__Labeling.html#g2e8fdf4d58f1255e5cc49feaec8d5acf" title="Find the connected components of a segmented volume, excluding the background from...">vigra::labelVolumeWithBackground</a>(
    srcMultiArrayRange(src), destMultiArray(dest), <a class="code" href="group__VoxelNeighborhood.html#gae23891fb489f969e6deff00b8d76b8a">NeighborCode3DSix</a>(), 0);
</pre></div><p>
<b> Required Interface:</b><p>
<div class="fragment"><pre class="fragment">    SrcIterator src_begin;
    SrcShape shape;
    DestIterator dest_begin;

    SrcAccessor src_accessor;
    DestAccessor dest_accessor;

    SrcAccessor::value_type u = src_accessor(src_begin);

    u == u                      <span class="comment">// first form</span>

    EqualityFunctor equal;      <span class="comment">// second form</span>
    equal(u, u)                 <span class="comment">// second form</span>

    int i;
    dest_accessor.set(i, dest_begin);
</pre></div> 
</div>
</div><p>
</div>
<!-- footer.html -->
<p>
<table border=0 cellspacing=0 width="100%"  bgcolor="#e0d0a0" cellpadding=5>
<tr>
<td>
<p>
<i>&copy; <A HREF="http://hci.iwr.uni-heidelberg.de/people/ukoethe/">Ullrich K&ouml;the</A>     (<A
HREF="mailto:ullrich.koethe@iwr.uni-heidelberg.de">ullrich.koethe@iwr.uni-heidelberg.de</A>)</i> <br>
<i><A HREF="http://hci.iwr.uni-heidelberg.de/">
Heidelberg Collaboratory for Image Processing</a>,
University of Heidelberg, Germany</i>
<td>
<p align=right>
<I>html generated using <A HREF="http://www.doxygen.org">doxygen</A> and <A HREF="http://www.python.org">Python</A></I>
<br>
<i>
VIGRA 1.6.0 (13 Aug 2008)
</i>
</tr>
</table>


</BODY>
</HTML>
