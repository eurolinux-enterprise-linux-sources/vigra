<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><TITLE>VIGRA - VIGRA: FindAverageAndVariance Class Template Reference</TITLE>
<link rel=stylesheet type="text/css" href="vigra.css">
</head>
<body  bgcolor="#f8f0e0" link="#0040b0" vlink="#a00040">
<basefont face="Helvetica,Arial,sans-serif" size=3>
<p align=right>
[ <a href="http://kogs-www.informatik.uni-hamburg.de/~koethe/vigra/">VIGRA Homepage</a> |
 <a href="functionindex.html">Function Index</a> |
 <a href="classes.html">Class Index</a> |
 <a href="namespaces.html">Namespaces</a> |
 <a href="files.html">File List</a> |
 <a href="index.html">Main Page</a> ]
</p>
<!-- Generated by Doxygen 1.5.6 -->
<div class="contents">
<table class="main_heading">
<tr>
<td align=left>
<A HREF ="#_details" ><IMG BORDER=0 ALT="details" SRC="documents/pfeilGross.gif"></A>
</td>
<td width="100%">FindAverageAndVariance<br>
<small>
[<a class="el" href="group__InspectFunctor.html">Functors To Inspect Images</a>]</small>

</td>
<td align=right><a href="http://kogs-www.informatik.uni-hamburg.de/~koethe/vigra/"><IMG border=0 ALT="VIGRA" SRC="documents/vigra.gif"></a></td></tr>
</table><p>
<!-- doxytag: class="vigra::FindAverageAndVariance" -->Find the average pixel value and its variance in an image or ROI.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="inspectimage_8hxx-source.html">vigra/inspectimage.hxx</a>&gt;</code>
<p>

<p>
<a href="classvigra_1_1FindAverageAndVariance-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef VALUETYPE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#6d55e4278792f01590981c60ec0a1313">argument_type</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef VALUETYPE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#227d9f9e0d316b5771e73c3734157fc0">first_argument_type</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef NumericTraits<br>
&lt; VALUETYPE &gt;::RealPromote&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#c88690a997a2d26a4ae350b7ba894bbf">result_type</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#669d316548d53121b8bba1eacb56fd6f">second_argument_type</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef NumericTraits<br>
&lt; VALUETYPE &gt;::RealPromote&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#02ffbee005b7e35ced4792fbe4b14f10">value_type</a></td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#c88690a997a2d26a4ae350b7ba894bbf">result_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#2cc61b4fc18a1c0ed2c2910e2c87fc6d">average</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#b1eb6de2bf3aa228929ab4b40c73507c">count</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#29834a18c78934cd2632081e0230b626">FindAverageAndVariance</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#c88690a997a2d26a4ae350b7ba894bbf">result_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#3611568390db60a6b592467581d58324">operator()</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#ae0f4a99d761a431044e163b1008414c">operator()</a> (<a class="el" href="classvigra_1_1FindAverageAndVariance.html">FindAverageAndVariance</a> const &amp;v)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#c4ea6193c01a67366cb3fe75223af359">operator()</a> (<a class="el" href="classvigra_1_1FindAverageAndVariance.html#227d9f9e0d316b5771e73c3734157fc0">first_argument_type</a> const &amp;v, <a class="el" href="classvigra_1_1FindAverageAndVariance.html#669d316548d53121b8bba1eacb56fd6f">second_argument_type</a> weight)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#7efb8704c3fc7036ba86aa1de05be2b8">operator()</a> (<a class="el" href="classvigra_1_1FindAverageAndVariance.html#6d55e4278792f01590981c60ec0a1313">argument_type</a> const &amp;v)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#d20897c5c8bd47f5d4005989bead0e55">reset</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#c88690a997a2d26a4ae350b7ba894bbf">result_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#a4e17c25b2ca584fbbbe79b8a22ae51a">variance</a> (bool unbiased=false) const </td></tr>

</table>
<hr><a name="_details"></a><h2 class="details_section">Detailed Description</h2>
<h3 class="details_section">template&lt;class VALUETYPE&gt;<br>
 class vigra::FindAverageAndVariance&lt; VALUETYPE &gt;</h3>

Find the average pixel value and its variance in an image or ROI. 
<p>
This Functor uses West's algorithm to accumulate highly accurate values for the mean and the sum of squared differences of all values seen so far (the naive incremental algorithm for the computation of the sum of squares produces large round-off errors when the mean is much larger than the standard deviation of the data.) This Functor can also be used in conjunction with <a class="el" href="classvigra_1_1ArrayOfRegionStatistics.html">ArrayOfRegionStatistics</a> to find the statistics of all regions in a labeled image.<p>
<b> Traits defined:</b><p>
<code>FunctorTraits::isUnaryAnalyser</code> and <code>FunctorTraits::isInitializer</code> are true (<code>VigraTrueType</code>)<p>
<b> Usage:</b><p>
<b>#include</b> &lt;<a href="inspectimage_8hxx-source.html">vigra/inspectimage.hxx</a>&gt;<br>
 Namespace: <a class="el" href="namespacevigra.html">vigra</a><p>
<div class="fragment"><pre class="fragment">    <a class="code" href="classvigra_1_1BasicImage.html" title="Fundamental class template for images.">vigra::BImage</a> img;

    <a class="code" href="classvigra_1_1FindAverageAndVariance.html" title="Find the average pixel value and its variance in an image or ROI.">vigra::FindAverageAndVariance&lt;vigra::BImage::PixelType&gt;</a> averageAndVariance;   <span class="comment">// init functor</span>

    <a class="code" href="group__InspectAlgo.html#ge8488c877a7bbbda221661457f2bd679" title="Apply read-only functor to every pixel in the image.">vigra::inspectImage</a>(srcImageRange(img), averageAndVariance);

    cout &lt;&lt; <span class="stringliteral">"Average: "</span> &lt;&lt; averageAndVariance.<a class="code" href="classvigra_1_1FindAverageAndVariance.html#2cc61b4fc18a1c0ed2c2910e2c87fc6d">average</a>() &lt;&lt; <span class="stringliteral">"\n"</span>;
    cout &lt;&lt; <span class="stringliteral">"Standard deviation: "</span> &lt;&lt; <a class="code" href="group__FixedPointOperations.html#ga498373861afd821131d42fa955ea506" title="square root.">sqrt</a>(averageAndVariance.<a class="code" href="classvigra_1_1FindAverageAndVariance.html#a4e17c25b2ca584fbbbe79b8a22ae51a">variance</a>()) &lt;&lt; <span class="stringliteral">"\n"</span>;
</pre></div><p>
<b> Required Interface:</b><p>
<div class="fragment"><pre class="fragment">    VALUETYPE v1, v2(v1);
    <span class="keywordtype">double</span> d;

    v1 += v2;
    v1 + v2;
    v1 - v2;
    v1 * v2;
    v1 / d;
    d * v1;
</pre></div> <hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="6d55e4278792f01590981c60ec0a1313"></a><!-- doxytag: member="vigra::FindAverageAndVariance::argument_type" ref="6d55e4278792f01590981c60ec0a1313" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef VALUETYPE <a class="el" href="classvigra_1_1FindAverageAndVariance.html#6d55e4278792f01590981c60ec0a1313">argument_type</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
the functor's argument type 
</div>
</div><p>
<a class="anchor" name="227d9f9e0d316b5771e73c3734157fc0"></a><!-- doxytag: member="vigra::FindAverageAndVariance::first_argument_type" ref="227d9f9e0d316b5771e73c3734157fc0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef VALUETYPE <a class="el" href="classvigra_1_1FindAverageAndVariance.html#227d9f9e0d316b5771e73c3734157fc0">first_argument_type</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
the functor's first argument type (for calls with a weight) 
</div>
</div><p>
<a class="anchor" name="c88690a997a2d26a4ae350b7ba894bbf"></a><!-- doxytag: member="vigra::FindAverageAndVariance::result_type" ref="c88690a997a2d26a4ae350b7ba894bbf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef NumericTraits&lt;VALUETYPE&gt;::RealPromote <a class="el" href="classvigra_1_1FindAverageAndVariance.html#c88690a997a2d26a4ae350b7ba894bbf">result_type</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
the functor's result type 
</div>
</div><p>
<a class="anchor" name="669d316548d53121b8bba1eacb56fd6f"></a><!-- doxytag: member="vigra::FindAverageAndVariance::second_argument_type" ref="669d316548d53121b8bba1eacb56fd6f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef double <a class="el" href="classvigra_1_1FindAverageAndVariance.html#669d316548d53121b8bba1eacb56fd6f">second_argument_type</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
the functor's second argument type (for calls with a weight) 
</div>
</div><p>
<a class="anchor" name="02ffbee005b7e35ced4792fbe4b14f10"></a><!-- doxytag: member="vigra::FindAverageAndVariance::value_type" ref="02ffbee005b7e35ced4792fbe4b14f10" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef NumericTraits&lt;VALUETYPE&gt;::RealPromote <a class="el" href="classvigra_1_1FindAverageAndVariance.html#02ffbee005b7e35ced4792fbe4b14f10">value_type</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000035">Deprecated:</a></b></dt><dd>use argument_type and result_type </dd></dl>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="29834a18c78934cd2632081e0230b626"></a><!-- doxytag: member="vigra::FindAverageAndVariance::FindAverageAndVariance" ref="29834a18c78934cd2632081e0230b626" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvigra_1_1FindAverageAndVariance.html">FindAverageAndVariance</a>           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
init average 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="2cc61b4fc18a1c0ed2c2910e2c87fc6d"></a><!-- doxytag: member="vigra::FindAverageAndVariance::average" ref="2cc61b4fc18a1c0ed2c2910e2c87fc6d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#c88690a997a2d26a4ae350b7ba894bbf">result_type</a> average           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
return current average 
</div>
</div><p>
<a class="anchor" name="b1eb6de2bf3aa228929ab4b40c73507c"></a><!-- doxytag: member="vigra::FindAverageAndVariance::count" ref="b1eb6de2bf3aa228929ab4b40c73507c" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int count           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
return number of values (sum of weights) seen so far 
</div>
</div><p>
<a class="anchor" name="3611568390db60a6b592467581d58324"></a><!-- doxytag: member="vigra::FindAverageAndVariance::operator()" ref="3611568390db60a6b592467581d58324" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#c88690a997a2d26a4ae350b7ba894bbf">result_type</a> operator()           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
return current variance. calls <code><a class="el" href="classvigra_1_1FindAverageAndVariance.html#a4e17c25b2ca584fbbbe79b8a22ae51a">variance()</a></code>. 
</div>
</div><p>
<a class="anchor" name="ae0f4a99d761a431044e163b1008414c"></a><!-- doxytag: member="vigra::FindAverageAndVariance::operator()" ref="ae0f4a99d761a431044e163b1008414c" args="(FindAverageAndVariance const &amp;v)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operator()           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classvigra_1_1FindAverageAndVariance.html">FindAverageAndVariance</a>&lt; VALUETYPE &gt; const &amp;&nbsp;</td>
          <td class="paramname"> <em>v</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
merge two statistics 
</div>
</div><p>
<a class="anchor" name="c4ea6193c01a67366cb3fe75223af359"></a><!-- doxytag: member="vigra::FindAverageAndVariance::operator()" ref="c4ea6193c01a67366cb3fe75223af359" args="(first_argument_type const &amp;v, second_argument_type weight)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operator()           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#227d9f9e0d316b5771e73c3734157fc0">first_argument_type</a> const &amp;&nbsp;</td>
          <td class="paramname"> <em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#669d316548d53121b8bba1eacb56fd6f">second_argument_type</a>&nbsp;</td>
          <td class="paramname"> <em>weight</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
update average and variance, using weighted input. <code>stats(value, 1.0)</code> is equivalent to the unweighted call <code>stats(value)</code>, and <code>stats(value, 2.0)</code> is equivalent to two unweighted calls. 
</div>
</div><p>
<a class="anchor" name="7efb8704c3fc7036ba86aa1de05be2b8"></a><!-- doxytag: member="vigra::FindAverageAndVariance::operator()" ref="7efb8704c3fc7036ba86aa1de05be2b8" args="(argument_type const &amp;v)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operator()           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#6d55e4278792f01590981c60ec0a1313">argument_type</a> const &amp;&nbsp;</td>
          <td class="paramname"> <em>v</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
update average and variance 
</div>
</div><p>
<a class="anchor" name="d20897c5c8bd47f5d4005989bead0e55"></a><!-- doxytag: member="vigra::FindAverageAndVariance::reset" ref="d20897c5c8bd47f5d4005989bead0e55" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
(re-)init average and variance 
</div>
</div><p>
<a class="anchor" name="a4e17c25b2ca584fbbbe79b8a22ae51a"></a><!-- doxytag: member="vigra::FindAverageAndVariance::variance" ref="a4e17c25b2ca584fbbbe79b8a22ae51a" args="(bool unbiased=false) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvigra_1_1FindAverageAndVariance.html#c88690a997a2d26a4ae350b7ba894bbf">result_type</a> variance           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>unbiased</em> = <code>false</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
return current variance. If <code>unbiased = true</code>, the sum of squared differences is divided by <code><a class="el" href="classvigra_1_1FindAverageAndVariance.html#b1eb6de2bf3aa228929ab4b40c73507c">count()</a>-1</code> instead of just <code><a class="el" href="classvigra_1_1FindAverageAndVariance.html#b1eb6de2bf3aa228929ab4b40c73507c">count()</a></code>. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>vigra/<a class="el" href="inspectimage_8hxx-source.html">inspectimage.hxx</a></ul>
</div>
<!-- footer.html -->
<p>
<table border=0 cellspacing=0 width="100%"  bgcolor="#e0d0a0" cellpadding=5>
<tr>
<td>
<p>
<i>&copy; <A HREF="http://hci.iwr.uni-heidelberg.de/people/ukoethe/">Ullrich K&ouml;the</A>     (<A
HREF="mailto:ullrich.koethe@iwr.uni-heidelberg.de">ullrich.koethe@iwr.uni-heidelberg.de</A>)</i> <br>
<i><A HREF="http://hci.iwr.uni-heidelberg.de/">
Heidelberg Collaboratory for Image Processing</a>,
University of Heidelberg, Germany</i>
<td>
<p align=right>
<I>html generated using <A HREF="http://www.doxygen.org">doxygen</A> and <A HREF="http://www.python.org">Python</A></I>
<br>
<i>
VIGRA 1.6.0 (13 Aug 2008)
</i>
</tr>
</table>


</BODY>
</HTML>
