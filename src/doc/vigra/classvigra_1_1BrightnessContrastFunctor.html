<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><TITLE>VIGRA - VIGRA: BrightnessContrastFunctor Class Template Reference</TITLE>
<link rel=stylesheet type="text/css" href="vigra.css">
</head>
<body  bgcolor="#f8f0e0" link="#0040b0" vlink="#a00040">
<basefont face="Helvetica,Arial,sans-serif" size=3>
<p align=right>
[ <a href="http://kogs-www.informatik.uni-hamburg.de/~koethe/vigra/">VIGRA Homepage</a> |
 <a href="functionindex.html">Function Index</a> |
 <a href="classes.html">Class Index</a> |
 <a href="namespaces.html">Namespaces</a> |
 <a href="files.html">File List</a> |
 <a href="index.html">Main Page</a> ]
</p>
<!-- Generated by Doxygen 1.5.6 -->
<div class="contents">
<table class="main_heading">
<tr>
<td align=left>
<A HREF ="#_details" ><IMG BORDER=0 ALT="details" SRC="documents/pfeilGross.gif"></A>
</td>
<td width="100%">BrightnessContrastFunctor<br>
<small>
[<a class="el" href="group__TransformFunctor.html">Functors to Transform Images</a>]</small>

</td>
<td align=right><a href="http://kogs-www.informatik.uni-hamburg.de/~koethe/vigra/"><IMG border=0 ALT="VIGRA" SRC="documents/vigra.gif"></a></td></tr>
</table><p>
<!-- doxytag: class="vigra::BrightnessContrastFunctor" -->Adjust brightness and contrast of an image.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="transformimage_8hxx-source.html">vigra/transformimage.hxx</a>&gt;</code>
<p>

<p>
<a href="classvigra_1_1BrightnessContrastFunctor-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef PixelType&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1BrightnessContrastFunctor.html#43a6feb130a539eef06a3666941ad9c9">argument_type</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef PixelType&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1BrightnessContrastFunctor.html#2f1cac15c70a6f5199a4104c37e88608">result_type</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef PixelType&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1BrightnessContrastFunctor.html#f1ae1457b0364ede460a98f91a694265">value_type</a></td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1BrightnessContrastFunctor.html#42ab78c7be842781269c2f01ac0dd641">BrightnessContrastFunctor</a> (promote_type brightness, promote_type contrast, <a class="el" href="classvigra_1_1BrightnessContrastFunctor.html#43a6feb130a539eef06a3666941ad9c9">argument_type</a> const &amp;min, <a class="el" href="classvigra_1_1BrightnessContrastFunctor.html#43a6feb130a539eef06a3666941ad9c9">argument_type</a> const &amp;max)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classvigra_1_1BrightnessContrastFunctor.html#2f1cac15c70a6f5199a4104c37e88608">result_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvigra_1_1BrightnessContrastFunctor.html#144b031a96930bdd54be8c0b7164b4e4">operator()</a> (<a class="el" href="classvigra_1_1BrightnessContrastFunctor.html#43a6feb130a539eef06a3666941ad9c9">argument_type</a> const &amp;v) const </td></tr>

</table>
<hr><a name="_details"></a><h2 class="details_section">Detailed Description</h2>
<h3 class="details_section">template&lt;class PixelType&gt;<br>
 class vigra::BrightnessContrastFunctor&lt; PixelType &gt;</h3>

Adjust brightness and contrast of an image. 
<p>
This functor applies a gamma correction to each pixel in order to modify the brightness of the image. To the result of the gamma correction, another transform is applied that modifies the contrast. The brightness and contrast parameters must be positive. Values greater than 1 will increase image brightness or contrast respectively, values smaller than 1 decrease them. A value of exactly 1 will have no effect. If contrast is set to 1, the result is equivalent to that of the <a class="el" href="classvigra_1_1GammaFunctor.html" title="Perform gamma correction of an image.">GammaFunctor</a> with gamma = 1./brightness.<p>
For <a class="el" href="classvigra_1_1RGBValue.html">RGBValue's</a>, the transforms are applied component-wise. The pixel values are assumed to lie between the given minimum and maximum values (in case of RGB, this is again understood component-wise). In case of <code>unsigned char</code>, min and max default to 0 and 255 respectively. Precisely, the following transform is applied to each <em> PixelValue</em>:<p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \begin{array}{rcl} V_1 &amp; = &amp; \frac{PixelValue - min}{max - min} \\ V_2 &amp; = &amp; V_1^\frac{1}{brightness} \\ V_3 &amp; = &amp; 2 V_2 - 1 \\ V_4 &amp; = &amp; \left\lbrace \begin{array}{l} V_3^\frac{1}{contrast} \mbox{\rm \quad if } V_3 \ge 0 \\ - (-V_3)^\frac{1}{contrast} \mbox{\rm \quad otherwise} \end{array} \right. \\ Result &amp; = &amp; \frac{V_4 + 1}{2} (max - min) + min \end{array} \]" src="form_70.png">
<p>
<p>
If the <code>PixelType</code> is <code>unsigned char</code>, a look-up-table is used for faster computation.<p>
<b> Traits defined:</b><p>
<code>FunctorTraits::isUnaryFunctor</code> is true (<code>VigraTrueType</code>)<p>
<b> Usage:</b><p>
<b>#include</b> &lt;<a href="transformimage_8hxx-source.html">vigra/transformimage.hxx</a>&gt;<br>
 Namespace: <a class="el" href="namespacevigra.html">vigra</a><p>
<div class="fragment"><pre class="fragment">    <a class="code" href="classvigra_1_1BasicImage.html" title="Fundamental class template for images.">vigra::BImage</a> bimage(width, height);
    <span class="keywordtype">double</span> brightness, contrast;
    ...
    <a class="code" href="group__TransformAlgo.html#ge8b0baa0dd68bf6af88faf6b9ac7925c" title="Apply unary point transformation to each pixel.">vigra::transformImage</a>(srcImageRange(bimage), destImage(bimage),
       <a class="code" href="classvigra_1_1BrightnessContrastFunctor.html" title="Adjust brightness and contrast of an image.">vigra::BrightnessContrastFunctor&lt;unsigned char&gt;</a>(brightness, contrast));



    <a class="code" href="classvigra_1_1BasicImage.html" title="Fundamental class template for images.">vigra::FImage</a> fimage(width, height);
    ...

    vigra::FindMinmax&lt;float&gt; minmax;
    <a class="code" href="group__InspectAlgo.html#ge8488c877a7bbbda221661457f2bd679" title="Apply read-only functor to every pixel in the image.">vigra::inspectImage</a>(srcImageRange(fimage), minmax);

    <a class="code" href="group__TransformAlgo.html#ge8b0baa0dd68bf6af88faf6b9ac7925c" title="Apply unary point transformation to each pixel.">vigra::transformImage</a>(srcImageRange(fimage), destImage(fimage),
       <a class="code" href="classvigra_1_1BrightnessContrastFunctor.html" title="Adjust brightness and contrast of an image.">vigra::BrightnessContrastFunctor&lt;float&gt;</a>(brightness, contrast, minmax.min, minmax.max));
</pre></div><p>
<b> Required Interface:</b><p>
Scalar types: must be a linear algebra (+, - *, NumericTraits), strict weakly ordered (&lt;), and <code><a class="el" href="group__RationalOperations.html#gbf2cf8994edbc65008513fa1603c16b2">pow()</a></code> must be defined.<p>
RGB values: the component type must meet the above requirements. <hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="43a6feb130a539eef06a3666941ad9c9"></a><!-- doxytag: member="vigra::BrightnessContrastFunctor::argument_type" ref="43a6feb130a539eef06a3666941ad9c9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef PixelType <a class="el" href="classvigra_1_1BrightnessContrastFunctor.html#43a6feb130a539eef06a3666941ad9c9">argument_type</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
the functor's argument type 
</div>
</div><p>
<a class="anchor" name="2f1cac15c70a6f5199a4104c37e88608"></a><!-- doxytag: member="vigra::BrightnessContrastFunctor::result_type" ref="2f1cac15c70a6f5199a4104c37e88608" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef PixelType <a class="el" href="classvigra_1_1BrightnessContrastFunctor.html#2f1cac15c70a6f5199a4104c37e88608">result_type</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
the functor's result type 
</div>
</div><p>
<a class="anchor" name="f1ae1457b0364ede460a98f91a694265"></a><!-- doxytag: member="vigra::BrightnessContrastFunctor::value_type" ref="f1ae1457b0364ede460a98f91a694265" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef PixelType <a class="el" href="classvigra_1_1BrightnessContrastFunctor.html#f1ae1457b0364ede460a98f91a694265">value_type</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b><a class="el" href="deprecated.html#_deprecated000041">Deprecated:</a></b></dt><dd>use argument_type and result_type </dd></dl>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="42ab78c7be842781269c2f01ac0dd641"></a><!-- doxytag: member="vigra::BrightnessContrastFunctor::BrightnessContrastFunctor" ref="42ab78c7be842781269c2f01ac0dd641" args="(promote_type brightness, promote_type contrast, argument_type const &amp;min, argument_type const &amp;max)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvigra_1_1BrightnessContrastFunctor.html">BrightnessContrastFunctor</a>           </td>
          <td>(</td>
          <td class="paramtype">promote_type&nbsp;</td>
          <td class="paramname"> <em>brightness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">promote_type&nbsp;</td>
          <td class="paramname"> <em>contrast</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classvigra_1_1BrightnessContrastFunctor.html#43a6feb130a539eef06a3666941ad9c9">argument_type</a> const &amp;&nbsp;</td>
          <td class="paramname"> <em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classvigra_1_1BrightnessContrastFunctor.html#43a6feb130a539eef06a3666941ad9c9">argument_type</a> const &amp;&nbsp;</td>
          <td class="paramname"> <em>max</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Init functor for argument range <code>[min, max]</code>. <code>brightness</code> and <code>contrast</code> values &gt; 1 will increase brightness and contrast, &lt; 1 will decrease them, and == 1 means no change. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="144b031a96930bdd54be8c0b7164b4e4"></a><!-- doxytag: member="vigra::BrightnessContrastFunctor::operator()" ref="144b031a96930bdd54be8c0b7164b4e4" args="(argument_type const &amp;v) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvigra_1_1BrightnessContrastFunctor.html#2f1cac15c70a6f5199a4104c37e88608">result_type</a> operator()           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classvigra_1_1BrightnessContrastFunctor.html#43a6feb130a539eef06a3666941ad9c9">argument_type</a> const &amp;&nbsp;</td>
          <td class="paramname"> <em>v</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculate modified gray or color value 
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>vigra/<a class="el" href="transformimage_8hxx-source.html">transformimage.hxx</a></ul>
</div>
<!-- footer.html -->
<p>
<table border=0 cellspacing=0 width="100%"  bgcolor="#e0d0a0" cellpadding=5>
<tr>
<td>
<p>
<i>&copy; <A HREF="http://hci.iwr.uni-heidelberg.de/people/ukoethe/">Ullrich K&ouml;the</A>     (<A
HREF="mailto:ullrich.koethe@iwr.uni-heidelberg.de">ullrich.koethe@iwr.uni-heidelberg.de</A>)</i> <br>
<i><A HREF="http://hci.iwr.uni-heidelberg.de/">
Heidelberg Collaboratory for Image Processing</a>,
University of Heidelberg, Germany</i>
<td>
<p align=right>
<I>html generated using <A HREF="http://www.doxygen.org">doxygen</A> and <A HREF="http://www.python.org">Python</A></I>
<br>
<i>
VIGRA 1.6.0 (13 Aug 2008)
</i>
</tr>
</table>


</BODY>
</HTML>
